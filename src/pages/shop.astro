---
import Layout from "../layouts/Layout.astro";
import { sanityClient } from "sanity:client";
import App from "../components/ReactComponents/App.jsx";
import type { Product } from "../types/types";

const productQuery = `*[_type == "product"] {
  title, slug, description, price, image, images, stock, categories[]->{title, slug}, collection[]->{title, slug}, color, size, material, availability, rating
}`;

const products: Product[] = await sanityClient.fetch(productQuery);
---
<Layout title="fashionCulture | Shop">
    <App
        products={products}
        client:load
    />
</Layout>