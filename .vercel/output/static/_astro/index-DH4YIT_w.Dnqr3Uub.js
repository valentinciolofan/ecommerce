import{j as a}from"./jsx-runtime.CzgMDNMm.js";import{u as b,a as P,P as g,_ as w,i as B,j as L,h as k,k as A,l as C,C as T,c as S,b as D,e as G,f as H,B as O,g as W,A as E}from"./studio-component.BWUr4qYP.js";import{r as f}from"./index.DQ2WTIsS.js";import"./image-url.umd.B12jX_S8.js";import"./client.B3CCqPsx.js";var I=Object.freeze,z=Object.defineProperty,F=(s,o)=>I(z(s,"raw",{value:I(s.slice())})),y;const R=b.hr(y||(y=F([`
  background-color: var(--card-border-color);
  height: 1px;
  margin: 0;
  border: none;
`])));function K(s){const{childItemId:o,items:t,isActive:r,layout:c,showIcons:i,title:l}=s,{collapsed:u}=B(),d=L(t?.filter(e=>e.type!=="divider")),h=f.useCallback(e=>{var n;return((n=t?.find((p,x)=>x===e))==null?void 0:n.type)==="divider"},[t]),m=f.useCallback(e=>{var n;const p=(n=e.displayOptions)==null?void 0:n.showIcon;return typeof p<"u"?p!==!1:i!==!1},[i]),v=f.useCallback((e,n)=>{const{virtualIndex:p}=n;if(e.type==="divider")return a.jsx(k,{marginBottom:1,children:a.jsx(R,{})},"divider-".concat(p));const x=!r&&o===e.id,j=r&&o===e.id,_=e._id&&e.schemaType?{_id:e._id,_type:e.schemaType.name,title:e.title}:void 0;return a.jsx(A,{icon:m(e)?e.icon:!1,id:e.id,layout:c,marginBottom:1,pressed:x,schemaType:e.schemaType,selected:j,title:d(e).title,value:_},e.id)},[o,d,r,c,m]);return a.jsx(C,{overflow:u?"hidden":"auto",children:t&&t.length>0&&a.jsx(T,{activeItemDataAttr:"data-hovered",ariaLabel:l,canReceiveFocus:!0,getItemDisabled:h,itemHeight:51,items:t,onlyShowSelectionWhenActive:!0,paddingBottom:1,paddingX:3,renderItem:v,wrapAround:!1})})}const M=s=>{let{index:o,menuItems:t,menuItemGroups:r,title:c}=s;const{features:i}=S(),{collapsed:l,isLast:u}=D(),d=u&&!l?-1:0;return a.jsx(G,{actions:a.jsx(H,{menuItems:t,menuItemGroups:r}),backButton:i.backButton&&o>0&&a.jsx(O,{as:W,"data-as":"a",icon:E,mode:"bleed",tooltipProps:{content:"Back"}}),tabIndex:d,title:c})};function Q(s){const{childItemId:o,index:t,isActive:r,isSelected:c,pane:i,paneKey:l}=s,{defaultLayout:u,displayOptions:d,items:h,menuItems:m,menuItemGroups:v}=i,e=d?.showIcons!==!1,{title:n}=P(i);return a.jsxs(g,{currentMaxWidth:350,"data-testid":"structure-tool-list-pane","data-ui":"ListPane",id:l,maxWidth:640,minWidth:320,selected:c,children:[w,a.jsx(M,{index:t,menuItems:m,menuItemGroups:v,title:n}),a.jsx(K,{childItemId:o,isActive:r,items:h,layout:u,showIcons:e,title:n},l)]})}export{Q as default};
