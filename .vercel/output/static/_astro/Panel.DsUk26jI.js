import{j as e}from"./jsx-runtime.CzgMDNMm.js";import{r as d}from"./index.DQ2WTIsS.js";/* empty css                               */const m=()=>{const[n,i]=d.useState({});return d.useEffect(()=>{(async()=>{const h=await(await fetch("http://localhost:3000/stats")).json();i(h),console.log(h)})()},[]),e.jsxs("div",{className:"cards",children:[e.jsxs("div",{className:"card red",children:[e.jsx("h1",{children:n.total_customers}),e.jsxs("div",{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 20 20",children:e.jsx("path",{fill:"black",d:"M10 3a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0-3M7.5 4.5a2.5 2.5 0 1 1 5 0a2.5 2.5 0 0 1-5 0m8-.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0a2 2 0 0 1-4 0m-10 0a1 1 0 1 1 2 0a1 1 0 0 1-2 0m1-2a2 2 0 1 0 0 4a2 2 0 0 0 0-4m.6 11.998L5 15a2 2 0 0 1-2-2V9.25A.25.25 0 0 1 3.25 9h1.764c.04-.367.17-.708.365-1H3.25C2.56 8 2 8.56 2 9.25V13a3 3 0 0 0 3.404 2.973a5 5 0 0 1-.304-.975m9.496.975Q14.794 16 15 16a3 3 0 0 0 3-3V9.25C18 8.56 17.44 8 16.75 8h-2.129c.196.292.325.633.365 1h1.764a.25.25 0 0 1 .25.25V13a2 2 0 0 1-2.1 1.998a5 5 0 0 1-.304.975M7.25 8C6.56 8 6 8.56 6 9.25V14a4 4 0 0 0 8 0V9.25C14 8.56 13.44 8 12.75 8zM7 9.25A.25.25 0 0 1 7.25 9h5.5a.25.25 0 0 1 .25.25V14a3 3 0 1 1-6 0z"})}),e.jsx("p",{children:"Total customers"})]})]}),e.jsxs("div",{className:"card green",children:[e.jsx("h1",{children:n.total_sales}),e.jsxs("div",{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 512 512",children:[e.jsx("rect",{width:448,height:256,x:32,y:80,fill:"none",stroke:"#37ac20",strokeLinejoin:"round",strokeWidth:32,rx:16,ry:16,transform:"rotate(180 256 208)"}),e.jsx("path",{fill:"none",stroke:"#37ac20",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M64 384h384M96 432h320"}),e.jsx("circle",{cx:256,cy:208,r:80,fill:"none",stroke:"#37ac20",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}),e.jsx("path",{fill:"none",stroke:"#37ac20",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M480 160a80 80 0 0 1-80-80M32 160a80 80 0 0 0 80-80m368 176a80 80 0 0 0-80 80M32 256a80 80 0 0 1 80 80"})]}),e.jsx("p",{children:"Total sales"})]})]}),e.jsxs("div",{className:"card blue",children:[e.jsx("h1",{children:n.total_users}),e.jsxs("div",{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 32 32",children:e.jsx("path",{fill:"black",d:"M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7m10 28h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z"})}),e.jsx("p",{children:"Total users"})]})]})]})},u=()=>{const[n,i]=d.useState([]),[l,c]=d.useState([]),h=t=>{const s=t.target.value.toLowerCase();if(console.log(s),console.log(l),l.length){const r=n.filter(a=>{if(a!=null)return a.receiver.toLowerCase().includes(s)||a.order_status.toLowerCase().includes(s)||a.order_date.toLowerCase().includes(s)||a.id.toString().includes(s)});c(r)}else c(n)},j=(t,s)=>{const r=t.target.value,a=n[s].id;console.log(r,a),fetch(`http://localhost:3000/api/orders/${a}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r})}).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(()=>{i(o=>{const x=[...o];return x[s].order_status=r,c(x),x})}).catch(o=>console.error("Error updating order status:",o))};return d.useEffect(()=>{(async()=>{const r=await(await fetch("http://localhost:3000/orders")).json();i(r),c(r)})()},[]),e.jsxs("div",{className:"orders-container",children:[e.jsx("div",{className:"orders-container-first-col",children:e.jsx("h4",{children:"Orders Management"})}),e.jsx("hr",{className:"order-div"}),e.jsxs("div",{className:"orders-container-second-col",children:[e.jsxs("div",{className:"orders-search-container",children:[e.jsx("input",{type:"text",className:"orders-search",placeholder:"Search for an order",onChange:h}),e.jsx("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32",children:e.jsx("path",{fill:"none",stroke:"silver",strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21l-4.343-4.343m0 0A8 8 0 1 0 5.343 5.343a8 8 0 0 0 11.314 11.314"})})]}),e.jsxs("table",{className:"orders-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"Order Date"}),e.jsx("th",{className:"order-status",children:"Status"})]})}),e.jsx("tbody",{children:l.map((t,s)=>e.jsxs("tr",{className:s%2===0?"":"table-row1",children:[e.jsx("td",{children:t.receiver}),e.jsx("td",{children:t.id}),e.jsx("td",{children:t.order_date.slice(0,10)}),e.jsx("td",{className:"order-status",children:e.jsxs("select",{value:t.order_status,onChange:r=>j(r,s),children:[e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"In progress"}),e.jsx("option",{children:"Delivered"})]})})]},t.id))})]})]})]})},v=()=>e.jsx("div",{className:"panel",children:e.jsxs("div",{className:"panel-wrapper",children:[e.jsx(m,{}),e.jsx(u,{})]})});export{v as default};
